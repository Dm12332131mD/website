"use strict";

// Imports
const abs = require("./absolute.js");
const neg = require("./negative.js");
const parse = require("../utils/parse.js");
const shift = require("../utils/shift.js");

/**
 * Floors a number-like value to the closest number
 * @param {string|number} v Number-like value
 * @param {?string|number} d Decimal place
 * @returns {string}
 */
function floor(v, d) {
    let ceil = require("./ceil.js");
    if(isNaN(v)) throw new TypeError("Argument is not a number-like value");
    if(parseFloat(v) < 0) return neg(ceil(abs(v), d ?? 0));
    return shift(parse(shift(v, neg(d ?? 0)))[1], d ?? 0);
};

// Exports
module.exports = floor;