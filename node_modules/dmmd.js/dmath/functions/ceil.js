"use strict";

// Imports
const abs = require("./absolute.js");
const neg = require("./negative.js");
const parse = require("../utils/parse.js");
const shift = require("../utils/shift.js");

/**
 * Ceils a number-like value to the closest number
 * @param {string|number} v Number-like value
 * @param {?string|number} d Decimal place
 * @returns {string}
 */
function ceil(v, d) {
    let floor = require("./floor.js");
    let plus = require("../operators/plus.js");
    if(isNaN(v)) throw new TypeError("Argument is not a number-like value");
    if(parseFloat(v) < 0) return neg(floor(abs(v), d ?? 0));
    let pn = parse(shift(v, neg(d ?? 0)));
    return pn[2] ? shift(plus(pn[1], "1"), d ?? 0) : shift(pn[1], d);
};

// Exports
module.exports = ceil;