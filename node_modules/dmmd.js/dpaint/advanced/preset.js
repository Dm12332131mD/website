"use strict";

// Imports
const fs = require("fs");
const path = require("path");

// Variables
let dir = path.join(__dirname, "../presets/");
let cache = Object.fromEntries(fs.readdirSync(dir).map(f => [
    f.replace(/\.[^/.]+$/, ""),
    JSON.parse(fs.readFileSync(dir + f))
]));

/**
 * Returns a preset color set
 * @param {?string} p Preset
 * @param {?string} c Color
 * @returns {object}
 */
function preset(p, c) {
    if(p === undefined) return cache;
    if(!(p in cache)) throw new Error("Argument is not a valid preset");
    let ps = cache[p];
    if(c === undefined) return ps;
    if(!(c in ps)) throw new Error("Argument is not a valid color");
    return ps[c];
};

// Exports
module.exports = preset;